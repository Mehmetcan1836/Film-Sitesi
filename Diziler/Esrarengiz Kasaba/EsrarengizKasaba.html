<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Esrarengiz Kasaba izle - Dizicom</title>
    <link rel="stylesheet" href="/Diziler/dizistyle.css">
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="../../img/favicon.png">
    <!-- Bootstrap JS Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preload" as="style" href="css/movie-grid.css" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="preload" as="style" href="css/story-slider.css" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" media="print" onload="this.media='all'">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet" media="print" onload="this.media='all'">

    <noscript>
        <link rel="stylesheet" href="css/movie-grid.css">
        <link rel="stylesheet" href="css/story-slider.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    </noscript>
    <body style="background-color: var(--dark);">
   



    <!-- Main Content -->
    <div class="content">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="title">
                <i class="fas fa-tv"></i>
                Esrarengiz Kasaba
            </div>
            <img src="https://images.justwatch.com/poster/304523615/s166/esrarengiz-kasaba.avif" alt="Esrarengiz Kasaba">
            <ul>
                <li>Esrarengiz Kasaba</li>
                <li><i class="fas fa-film"></i> Aksiyon</li>
                <li><i class="fas fa-laugh-squint"></i> Macera</li>
                <li><i class="fas fa-tv"></i> TV</li>
                <li><i class="far fa-clock"></i> 107 Dk.</li>
                <li><i class="fas fa-list-ol"></i> 24 Bölüm.</li>
                <li><i class="far fa-calendar-alt"></i> 2018 • Final Yaptı</li>
                <li>
                    <span class="tag">IMDb 6.1</span>
                    <span class="tag">+16</span>
                    <span class="tag">4K</span>
                </li>
            </ul>
        </aside>
        
        <!-- Main Content -->
        <main class="main">
            <div class="main-header">
                <h1 class="title">Tüm Bölümler</h1>
            </div>
            
            <!-- About Section -->
            <section class="hakkındas">
                <h3><i class="fas fa-info-circle"></i> Hakkında</h3>
                <p>Esrarengiz Kasaba, Disney Channel orijinal dizisidir. 15 Haziran 2012'de bir ön gösterim olarak ilk gösterim yayınlanmıştır. Ancak dizi resmen 29 Haziran 2012'de yayına girmiştir. Bu dizideki birçok karakterin seslendiricisi Cartoon Network'te de çalışmıştır. <br><br>

                  İkiz kardeşler Dipper ve Mabel Pines'ın aileleri yazın Dipper ve Mabel'ı "Harika Amca Stan'in yanına Gravity Falls, Oregon'a gönderirler. Stan, "Gizemli Kulübe"de yaşamaktadır ve çalışmaktadır; ama Dipper ve Mabel gerçekten çok garip şeyler olduğunu bilirler ve anlaşılmadık kasabada kendi yollarını bulmak için birbirlerine güvenmek zorundadırlar. Dipper'ın ormanda bulduğu günlükle işler daha da tuhaflaşır.</p>
            </section>
             <!-- Header -->
             <div class="search-container">
              <input type="text" class="search-input" id="searchInput" placeholder="Bölüm ara...">
              <button class="search-btn" id="searchBtn">
                  <i class="fas fa-search"></i>
              </button>
          </div>
        <br>
            <!-- Episode Grid -->
            <div class="episode-grid" id="episodeGrid">
                <!-- Episodes will be dynamically loaded here -->
            </div>
            
            <!-- Pagination -->
            <div class="pagination" id="pagination">
                <!-- Pagination will be dynamically generated -->
            </div>
        </main>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast">
        <i class="fas fa-check-circle"></i>
        <span id="toastMessage">Bölüm listenize eklendi</span>
    </div>

    <script>
       
        
        // Sample episode data (in a real app, this would come from an API)
        const episodes = [
    // Season 1
    {
        id: 1,
        season: 1,
        number: 1,
        title: "1.Bölüm",
        description: "Sıcak hava dalgasının ortasında bir bulut belirir ve onunla birlikte öldürücü bir asit yağmuru da ortaya çıkar. Dünyayı kasıp kavuran bu salgından kurtulmak için ayrılmış bir ailenin bir araya gelmesi gerekecek.",
        image: "/img/esrarengizkasaba.jpg",
        date: "15.06.2012",
        duration: "22 dk",
        watched: false
    },
    {
        id: 2,
        season: 1,
        number: 2,
        title: "2.Bölüm",
        description: "Kazanın etkisi artarken Zeynep, zor günler yaşayan bir ev kadını olarak borçlarla boğuşur. Kadir, meslek hayatını sorgularken yeni ipuçları peşine düşer. Kerem hapisten yeni çıkmıştır ve cemrenin hayatında karmaşa devam etmektedir .",
        image: "/img/esrarengizkasaba.jpg",
        date: "13.01.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 3,
        season: 1,
        number: 3,
        title: "3.Bölüm",
        description: "Kadir, Zeynep'in peşine düşer, onun elini kolunu bağlayan sırları çözmeye çalışır. Kerem, kendini giderek karışık işlerin içinde bulur. Cemre, hem iş hem aşk hayatında baskı altındadır.",
        image: "/img/esrarengizkasaba.jpg",
        date: "14.01.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 4,
        season: 1,
        number: 4,
        title: "4.Bölüm",
        description: "Zeynep ve Kadir arasındaki ilişki derinleşir, Kadir Veli'nin planlarını çözmeye çalışırken Zeynep, kızını geri alabilmek için güçlü bir karar verir.",
        image: "/img/esrarengizkasaba.jpg",
        date: "21.01.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 5,
        season: 1,
        number: 5,
        title: "5.Bölüm",
        description: "Kadir plan yapar ve devreye girer; Kerem, Ya­kup’la yeni bir yolda gider. Cemre, bu sırada Belma ve Demir’in arasında kalır.",
        image: "/img/esrarengizkasaba.jpg",
        date: "28.01.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 6,
        season: 1,
        number: 6,
        title: "6.Bölüm",
        description: "Galip ve Veli arasındaki rekabet kızışır; Kerem tehlikeli bir durumda kalır. Zeynep ve Kadir geçmişle bağlantı kurmaya çalışır.",
        image: "/img/esrarengizkasaba.jpg",
        date: "04.02.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 7,
        season: 1,
        number: 7,
        title: "7.Bölüm",
        description: "Zeynep evladına kavuşur; Adalı ve Kerem karşı karşıya gelir. Veli tarafından silah çekilen Zeynep, büyük bir karar alır.",
        image: "/img/esrarengizkasaba.jpg",
        date: "11.02.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 8,
        season: 1,
        number: 8,
        title: "8.Bölüm",
        description: "Cemre, Belma ile yüzleşir. Kadir ve Kerem tuzağa düşürülür. Zeynep derin bir çıkmazda kaybolur.",
        image: "/img/esrarengizkasaba.jpg",
        date: "18.02.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 9,
        season: 1,
        number: 9,
        title: "9.Bölüm",
        description: "Meral vurulur. Kerem ve Demir çatışır. Zeynep, Selim’le plan yapar. Veli yeniden sahnededir.",
        image: "/img/esrarengizkasaba.jpg",
        date: "25.02.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 10,
        season: 1,
        number: 10,
        title: "10.Bölüm",
        description: "Zeynep, Veli ile buluşur; Adem Adalı’yı vurdu mu? Meral hayatta kalmaya çalışır.",
        image: "/img/esrarengizkasaba.jpg",
        date: "04.03.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 11,
        season: 1,
        number: 11,
        title: "11.Bölüm",
        description: "Kadir, annesinin mektubunu okur; Kerem ile Demir karşı karşıya gelir. Meral hamle yapar, Zeynep kızıyla ilgili yeni bilgi bulur.",
        image: "/img/esrarengizkasaba.jpg",
        date: "11.03.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 12,
        season: 1,
        number: 12,
        title: "12.Bölüm",
        description: "Kadir, Gürcü’yü sorgular; Cansız’ın geçmişi gün yüzüne çıkmaya başlar. Zeynep’le Cemre arasında yeni bağlar kurulurken Meral sıkışır.",
        image: "/img/esrarengizkasaba.jpg",
        date: "18.03.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 13,
        season: 1,
        number: 13,
        title: "13.Bölüm",
        description: "Kadir ile Cansız baş başa gelir. Yusuf’un geçmişi açığa çıkar. Kerem, babası Cemil ile dostluk kazanır; Zeynep ve Kadir yakınlaşır.",
        image: "/img/esrarengizkasaba.jpg",
        date: "25.03.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 14,
        season: 1,
        number: 14,
        title: "14.Bölüm",
        description: "Doğum günü partisi Kadir’e sürpriz olur. Veli’ye karşı Zeynep ve Kadir hamle yapar. Cansız, Asiye’nin karşısına dikilir.",
        image: "/img/esrarengizkasaba.jpg",
        date: "14.01.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 15,
        season: 1,
        number: 15,
        title: "15.Bölüm",
        description: "Selim köşeye sıkışır, Veli Adem’i vurur. Kerem tutuklanır. Zeynep duygusal bir patlamayla hata yapar.",
        image: "/img/esrarengizkasaba.jpg",
        date: "21.01.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 16,
        season: 1,
        number: 16,
        title: "16.Bölüm",
        description: "Kadir, Cansız’ı aramaya karar verir. Zeynep fragmanlardan anlaşıldığı kadarıyla riskli bir hamle yapar. Veli yeniden sahneye çıkar.",
        image: "/img/esrarengizkasaba.jpg",
        date: "28.01.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 17,
        season: 1,
        number: 17,
        title: "17.Bölüm",
        description: "Selim intihar eder gibi olur. Veli ve Rus ortaklar devreye girer. Kadir vurulur. Cansız yeni planlar yapar.",
        image: "/img/esrarengizkasaba.jpg",
        date: "04.02.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 18,
        season: 1,
        number: 18,
        title: "18.Bölüm",
        description: "Zeynep nezarete düşer, Kadir onu kurtarmaya çalışır. Adalı ile Veli pusuda yakalanır. Büyük ihanetler yaşanır.",
        image: "/img/esrarengizkasaba.jpg",
        date: "11.02.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 19,
        season: 1,
        number: 19,
        title: "19.Bölüm",
        description: "Bomba patlamaz, Ivan yükselir. Zeynep rehine düşer. Kadir, çocukluğuyla yüzleşir. Cansız dikkat çeker.",
        image: "/img/esrarengizkasaba.jpg",
        date: "18.02.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 20,
        season: 1,
        number: 20,
        title: "20.Bölüm",
        description: "Zarif sorguda; asıl şok Asiye ile gelir. Cemre ve Meral büyük kırılmalar yaşar. Zeynep, Haydar’dan destek ister.",
        image: "/img/esrarengizkasaba.jpg",
        date: "25.02.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 21,
        season: 1,
        number: 21,
        title: "21.Bölüm",
        description: "Zeynep kaçırılır. Cansız’ın oyunları netleşir. Kadir ve Zeynep sahilde yalnız zaman geçirir. Veli’ye ölümcül bir teklif gelir.",
        image: "/img/esrarengizkasaba.jpg",
        date: "04.03.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 22,
        season: 1,
        number: 22,
        title: "22.Bölüm",
        description: "Asiye gözlerinin önünde öldürülür. Zeynep ve Cemre hızla çözüm arar. Cansız kızgın ve tehlikeli planlarla ilerler.",
        image: "/img/esrarengizkasaba.jpg",
        date: "11.03.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 23,
        season: 1,
        number: 23,
        title: "23.Bölüm",
        description: "Zeynep yüzüğünü gören Cemre ile evlilik kararını açıklar. Veli’ye tehdit mesajı gelir, Cansız tekrar sahnede. Zeynep büyük risk altındadır",
        image: "/img/esrarengizkasaba.jpg",
        date: "18.03.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 24,
        season: 1,
        number: 24,
        title: "24.Bölüm",
        description: "Veli, Kadir’in suçunu üstlenerek cezaevine girer. Kadir onu ziyaret eder, dostluk ve hesaplaşma yaşanır. Veli başka koğuşa gidip Demir’le karşılaşır",
        image: "/img/esrarengizkasaba.jpg",
        date: "25.03.2006",
        duration: "22 dk",
        watched: false
    }
];
        
        // Watch Later functionality
        let watchLater = JSON.parse(localStorage.getItem('watchLater')) || [];
        
        // Render episodes
        function renderEpisodes(episodesToRender) {
            const episodeGrid = document.getElementById('episodeGrid');
            episodeGrid.innerHTML = '';
            
            episodesToRender.forEach(episode => {
                const isInWatchLater = watchLater.some(item => item.id === episode.id);
                
                const episodeCard = document.createElement('div');
                episodeCard.className = 'episode-card';
                episodeCard.innerHTML = `
                    <div class="episode-thumbnail">
                        <img src="${episode.image}" alt="${episode.title}">
                        <div class="episode-overlay">
                            <a href="../Esrarengiz Kasaba/Sezon${episode.season}/${episode.season}.Sezon ${episode.number}.Bölüm Esrarengiz Kasaba.html" class="play-btn">
                                <i class="fas fa-play"></i>
                            </a>
                        </div>
                    </div>
                    <div class="episode-info">
                        <div class="episode-header">
                            <span class="episode-number">${episode.number}. Bölüm</span>
                            <button class="watch-later ${isInWatchLater ? 'active' : ''}" data-id="${episode.id}">
                                <i class="far fa-bookmark"></i>
                            </button>
                        </div>
                        <h3 class="episode-title">${episode.title}</h3>
                        <p class="episode-desc">${episode.description}</p>
                        <div class="episode-meta">
                            <span><i class="far fa-calendar-alt"></i> ${episode.date}</span>
                            <span><i class="far fa-clock"></i> ${episode.duration}</span>
                        </div>
                    </div>
                `;
                
                episodeGrid.appendChild(episodeCard);
            });
            
            // Add event listeners to watch later buttons
            document.querySelectorAll('.watch-later').forEach(button => {
                button.addEventListener('click', toggleWatchLater);
            });
        }
        
        // Toggle watch later
        function toggleWatchLater(e) {
            const button = e.currentTarget;
            const episodeId = parseInt(button.dataset.id);
            const episode = episodes.find(ep => ep.id === episodeId);
            
            const index = watchLater.findIndex(item => item.id === episodeId);
            
            if (index === -1) {
                watchLater.push(episode);
                button.classList.add('active');
                showToast('Bölüm listenize eklendi');
            } else {
                watchLater.splice(index, 1);
                button.classList.remove('active');
                showToast('Bölüm listenizden kaldırıldı');
            }
            
            localStorage.setItem('watchLater', JSON.stringify(watchLater));
        }
        
        // Show toast notification
        function showToast(message) {
            const toast = document.getElementById('toast');
            const toastMessage = document.getElementById('toastMessage');
            
            toastMessage.textContent = message;
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }
        
        // Search functionality
        const searchInput = document.getElementById('searchInput');
        const searchBtn = document.getElementById('searchBtn');
        
        function searchEpisodes() {
            const searchTerm = searchInput.value.toLowerCase();
            const filteredEpisodes = episodes.filter(episode => 
                episode.title.toLowerCase().includes(searchTerm) || 
                episode.description.toLowerCase().includes(searchTerm)
            );
            
            renderEpisodes(filteredEpisodes.length > 0 ? filteredEpisodes : episodes);
        }
        
        searchBtn.addEventListener('click', searchEpisodes);
        searchInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                searchEpisodes();
            }
        });
        
        // Pagination
        const itemsPerPage = 10;
        let currentPage = 1;
        
        function setupPagination(items, container, rowsPerPage) {
            container.innerHTML = '';
            const pageCount = Math.ceil(items.length / rowsPerPage);
            
            // Previous button
            const prevBtn = document.createElement('button');
            prevBtn.className = 'page-btn';
            prevBtn.innerHTML = '&laquo;';
            prevBtn.disabled = currentPage === 1;
            prevBtn.addEventListener('click', () => {
                if (currentPage > 1) {
                    currentPage--;
                    renderEpisodes(getPaginatedItems(items));
                    setupPagination(items, container, rowsPerPage);
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                }
            });
            container.appendChild(prevBtn);
            // Move this to the top of your script section


function updateThemeIcon(icon, theme) {
    if (!icon) return;
    icon.className = theme === 'dark' ? 'fas fa-sun' : 'fas fa-moon';
}

// Update the DOMContentLoaded event listener
document.addEventListener('DOMContentLoaded', () => {
    // Initialize theme
    initializeTheme();
    
    // Initialize episodes and pagination
    const paginationContainer = document.getElementById('pagination');
    if (paginationContainer) {
        setupPagination(episodes, paginationContainer, itemsPerPage);
        renderEpisodes(getPaginatedItems(episodes));
    }
});
            // Page numbers
            for (let i = 1; i <= pageCount; i++) {
                const btn = document.createElement('button');
                btn.className = `page-btn ${i === currentPage ? 'active' : ''}`;
                btn.textContent = i;
                
                if (i === currentPage) {
                    btn.disabled = true;
                }
                
                btn.addEventListener('click', () => {
                    currentPage = i;
                    renderEpisodes(getPaginatedItems(items));
                    setupPagination(items, container, rowsPerPage);
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                });
                
                container.appendChild(btn);
            }
            
            // Next button
            const nextBtn = document.createElement('button');
            nextBtn.className = 'page-btn';
            nextBtn.innerHTML = '&raquo;';
            nextBtn.disabled = currentPage === pageCount;
            nextBtn.addEventListener('click', () => {
                if (currentPage < pageCount) {
                    currentPage++;
                    renderEpisodes(getPaginatedItems(items));
                    setupPagination(items, container, rowsPerPage);
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                }
            });
            container.appendChild(nextBtn);
        }
        
        function getPaginatedItems(items) {
            const start = (currentPage - 1) * itemsPerPage;
            const end = start + itemsPerPage;
            return items.slice(start, end);
        }
        
        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            const paginationContainer = document.getElementById('pagination');
            setupPagination(episodes, paginationContainer, itemsPerPage);
            renderEpisodes(getPaginatedItems(episodes));
        });
        
        // View Toggle
        const viewButtons = document.querySelectorAll('.view-btn');
        const episodeGrid = document.getElementById('episodeGrid');
        
        viewButtons.forEach(button => {
            button.addEventListener('click', () => {
                viewButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
                
                if (button.dataset.view === 'list') {
                    episodeGrid.classList.add('list-view');
                } else {
                    episodeGrid.classList.remove('list-view');
                }
            });
        });
    </script>
    <script src="/js/header.js"></script>
</body>
</html>