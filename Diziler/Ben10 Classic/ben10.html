<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ben 10 Classic izle - Dizicom</title>
    <link rel="stylesheet" href="/Diziler/dizistyle.css">
    <!-- Favicon -->
     <!-- Bootstrap JS Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="icon" type="image/png" href="../../img/favicon.png">
    <!-- CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preload" as="style" href="css/movie-grid.css" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="preload" as="style" href="css/story-slider.css" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" media="print" onload="this.media='all'">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet" media="print" onload="this.media='all'">

    <noscript>
        <link rel="stylesheet" href="css/movie-grid.css">
        <link rel="stylesheet" href="css/story-slider.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    </noscript>
    <body style="background-color: var(--dark);">
   



    <!-- Main Content -->
    <div class="content">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="title">
                <i class="fas fa-tv"></i>
                BEN 10
            </div>
            <img src="/img/869.jpg" alt="Ben 10 classic">
            <ul>
                <li>Ben 10 Classic</li>
                <li><i class="fas fa-film"></i> Animasyon</li>
                <li><i class="fas fa-laugh-squint"></i> Komedi</li>
                <li><i class="fas fa-running"></i> Macera</li>
                <li><i class="fas fa-tv"></i> Cartoon Network</li>
                <li><i class="far fa-clock"></i> 11 Dk.</li>
                <li><i class="fas fa-list-ol"></i> 246 Bl.</li>
                <li><i class="far fa-calendar-alt"></i> 2009-2017 • Final Yaptı</li>
                <li>
                    <span class="tag">IMDb 8.2</span>
                    <span class="tag">+13</span>
                    <span class="tag">HD</span>
                </li>
            </ul>
        </aside>
        
        <!-- Main Content -->
        <main class="main">
            <div class="main-header">
                <h1 class="title">Tüm Bölümler</h1>
            </div>
            
            <!-- About Section -->
            <section class="hakkındas">
                <h3><i class="fas fa-info-circle"></i> Hakkında</h3>
                <p>10 yaşındaki Ben Tennyson ormanda gizemli bir cihaz keşfettiğinde, her biri benzersiz güçlere sahip on farklı uzaylı kahramana dönüşme gücü kazanır. Bu özel yetenekleri elinde bulunduran Ben, başkalarına yardım etmek ve kötülükleri durdurmak için daha büyük bir sorumluluk alması gerektiğini fark eder.</p>
            </section>
            
             <!-- Header -->
             <div class="search-container">
              <input type="text" class="search-input" id="searchInput" placeholder="Bölüm ara...">
              <button class="search-btn" id="searchBtn">
                  <i class="fas fa-search"></i>
              </button>
          </div>
          <br>
            <!-- Season Selector -->
            <div class="season-selector-container mb-4">
                <label for="seasonSelect" class="me-2">Sezon Seçin:</label>
                <select id="seasonSelect" class="form-select d-inline-block w-auto">
                    <option value="all">Tüm Sezonlar</option>
                    <!-- Seasons will be added by JavaScript -->
                </select>
            </div>
            
            <!-- Episodes will be loaded here -->
            <div id="episodesContainer" class="episode-grid"></div>
            
            <!-- Pagination -->
            <div class="pagination" id="pagination">
                <!-- Pagination will be dynamically generated -->
            </div>
        </main>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast">
        <i class="fas fa-check-circle"></i>
        <span id="toastMessage">Bölüm listenize eklendi</span>
    </div>

    <style>
        /* Season Navigation */
        .season-navigation {
            display: flex;
            gap: 10px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .season-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .season-btn:hover,
        .season-btn.active {
            background: var(--secondary);
            transform: translateY(-2px);
        }

        /* Season Sections */
        .season-section {
            margin-bottom: 30px;
            background: var(--card-bg);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .season-header {
            background: var(--header-bg);
            color: white;
            padding: 15px 20px;
            margin: 0;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .season-header::after {
            content: '\f078';
            font-family: 'Font Awesome 5 Free';
            font-weight: 900;
            transition: transform 0.3s ease;
        }

        .season-section.active .season-header::after {
            transform: rotate(180deg);
        }

        .season-section:not(.active) .episode-grid {
            display: none;
        }

        .episode-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            padding: 20px;
        }

        .season-selector-container {
            padding: 10px 20px;
            background-color: #1a1a1a;
            border-radius: 8px;
            margin: 15px 0;
        }
        
        .season-selector-container label {
            color: #fff;
            font-weight: 500;
        }
        
        #seasonSelect {
            background-color: #2d2d2d;
            color: #fff;
            border: 1px solid #444;
            padding: 5px 10px;
            border-radius: 4px;
        }
        
        #seasonSelect:focus {
            box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);
            border-color: #0d6efd;
        }

        @media (max-width: 768px) {
            .episode-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>

    <script>
        // Sample episode data (in a real app, this would come from an API)
        const episodes = [
    // Season 1
    {
        id: 1,
        season: 1,
        number: 1,
        title: "Ve Sonra 10 Tane Oldu",
        description: "10 yaşındaki Ben Tennyson, yaz tatili için büyükbabası Max ve kuzeni Gwen ile birlikte yola çıkar. Ancak ormanda bulduğu gizemli bir saat her şeyi değiştirecektir.",
        image: "/img/8699.jpg",
        date: "27.12.2005",
        duration: "22 dk",
        watched: false
    },
    {
        id: 2,
        season: 1,
        number: 2,
        title: "Washington B.C.",
        description: "Ben, Gwen ve büyükbabaları Max Washington'a giderken yolda tehlikeli bir düşmanla karşılaşırlar.",
        image: "/img/8699.jpg",
        date: "13.01.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 3,
        season: 1,
        number: 3,
        title: "Kraken",
        description: "Deniz canavarı Kraken şehri tehdit ederken, Ben yeni güçlerini kullanarak onu durdurmaya çalışır.",
        image: "/img/8699.jpg",
        date: "14.01.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 4,
        season: 1,
        number: 4,
        title: "Kalıcı Emeklilik",
        description: "Ben, emekli bir süper kahraman olan Tetrax Sh'ardeen ile tanışır ve birlikte Vilgax'a karşı savaşırlar.",
        image: "/img/8699.jpg",
        date: "21.01.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 5,
        season: 1,
        number: 5,
        title: "Av",
        description: "Ben, Hex tarafından büyülenmiş bir avcı tarafından avlanmaktadır.",
        image: "/img/8699.jpg",
        date: "28.01.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 6,
        season: 1,
        number: 6,
        title: "Turist Tuzağı",
        description: "Aile, bir turistik mekanda konaklarken gizemli olaylarla karşılaşır.",
        image: "/img/8699.jpg",
        date: "04.02.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 7,
        season: 1,
        number: 7,
        title: "Kevin 11",
        description: "Ben, Omnitrix'in güçlerini kopyalayabilen Kevin Levin ile tanışır.",
        image: "/img/8699.jpg",
        date: "11.02.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 8,
        season: 1,
        number: 8,
        title: "İttifak",
        description: "Kevin ve Hex, Ben'i durdurmak için güçlerini birleştirirler.",
        image: "/img/8699.jpg",
        date: "18.02.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 9,
        season: 1,
        number: 9,
        title: "Son Kahkaha",
        description: "Zombozo adlı palyaço kötü, insanların gülüşlerini çalmaktadır.",
        image: "/img/8699.jpg",
        date: "25.02.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 10,
        season: 1,
        number: 10,
        title: "Şanslı Kız",
        description: "Gwen'in büyü yetenekleri ortaya çıkar ve Hex ile yüzleşmesi gerekir.",
        image: "/img/8699.jpg",
        date: "04.03.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 11,
        season: 1,
        number: 11,
        title: "Küçük Bir Sorun",
        description: "Omnitrix arızalanır ve Ben küçük bir çocuğa dönüşür.",
        image: "/img/8699.jpg",
        date: "11.03.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 12,
        season: 1,
        number: 12,
        title: "Yan Etkiler",
        description: "Omnitrix'in yan etkileri Ben'i farklı yaratıklara dönüştürmeye başlar.",
        image: "/img/8699.jpg",
        date: "18.03.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 13,
        season: 1,
        number: 13,
        title: "Sırlar",
        description: "Büyükbaba Max'in geçmişi hakkındaki sırlar ortaya çıkmaya başlar.",
        image: "/img/8699.jpg",
        date: "25.03.2006",
        duration: "22 dk",
        watched: false
    },

    // Season 2
    {
        id: 14,
        season: 2,
        number: 1,
        title: "Sıcak Hava",
        description: "Ben ve ailesi, sıcak hava balonu yarışına katılırken tehlikeli bir maceraya atılırlar.",
        image: "/img/8699.jpg",
        date: "14.01.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 15,
        season: 2,
        number: 2,
        title: "Korku Festivali",
        description: "Aile, bir korku festivaline katılır ancak oradaki tehditler gerçek çıkar.",
        image: "/img/8699.jpg",
        date: "21.01.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 16,
        season: 2,
        number: 3,
        title: "Kırmızı Hayalet",
        description: "Ben, Kırmızı Hayalet adlı bir süper kahramana karşı savaşır.",
        image: "/img/8699.jpg",
        date: "28.01.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 17,
        season: 2,
        number: 4,
        title: "Huntikus",
        description: "Ben, Huntikus adlı bir avcı tarafından avlanmaya çalışılır.",
        image: "/img/8699.jpg",
        date: "04.02.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 18,
        season: 2,
        number: 5,
        title: "Gizli Dosya",
        description: "Ben, Plumber adlı bir ajanın gizli dosyalarına ulaşır.",
        image: "/img/8699.jpg",
        date: "11.02.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 19,
        season: 2,
        number: 6,
        title: "Karanlık Ben",
        description: "Ben, karanlık bir versiyonuyla karşı karşıya gelir.",
        image: "/img/8699.jpg",
        date: "18.02.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 20,
        season: 2,
        number: 7,
        title: "Kırmızı Hayalet'in Dönüşü",
        description: "Ben, Kırmızı Hayalet'in dönüşünü durdurmak için çalışır.",
        image: "/img/8699.jpg",
        date: "25.02.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 21,
        season: 2,
        number: 8,
        title: "Karanlık Savaşçılar",
        description: "Ben, karanlık savaşçılara karşı savaşır.",
        image: "/img/8699.jpg",
        date: "04.03.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 22,
        season: 2,
        number: 9,
        title: "Kök Hücre",
        description: "Ben, kök hücreyi bulmak için çalışır.",
        image: "/img/8699.jpg",
        date: "11.03.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 23,
        season: 2,
        number: 10,
        title: "Omniverse",
        description: "Ben, Omnitrix'in gücünü kontrol etmek için çalışır.",
        image: "/img/8699.jpg",
        date: "18.03.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 24,
        season: 2,
        number: 11,
        title: "Son Şans",
        description: "Ben, Vilgax'a karşı son şansını kullanır.",
        image: "/img/8699.jpg",
        date: "25.03.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 25,
        season: 2,
        number: 12,
        title: "Düello",
        description: "Ben, Kevin 11 ile düello yapar.",
        image: "/img/8699.jpg",
        date: "08.04.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 26,
        season: 2,
        number: 13,
        title: "Gizemli Savaşçılar",
        description: "Ben, gizemli savaşçılara karşı savaşır.",
        image: "/img/8699.jpg",
        date: "15.04.2006",
        duration: "22 dk",
        watched: false
    },

    // ... (continue with remaining episodes)

    // Season 3
    {
        id: 27,
        season: 3,
        number: 1,
        title: "Köle Tüccarı",
        description: "Ben, uzaylı köle tüccarlarına karşı savaşır.",
        image: "/img/8699.jpg",
        date: "25.11.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 28,
        season: 3,
        number: 2,
        title: "Uzaylılar Geldi",
        description: "Ben, uzaylılar tarafından kaçırılır.",
        image: "/img/8699.jpg",
        date: "02.12.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 29,
        season: 3,
        number: 3,
        title: "Buz Çağı",
        description: "Ben, buz çağından bir canavarı durdurmak için çalışır.",
        image: "/img/8699.jpg",
        date: "09.12.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 30,
        season: 3,
        number: 4,
        title: "Kırmızı Hayalet'in Hedefi",
        description: "Ben, Kırmızı Hayalet'in hedefi olur.",
        image: "/img/8699.jpg",
        date: "16.12.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 31,
        season: 3,
        number: 5,
        title: "Gizli Ajan",
        description: "Ben, gizli bir ajana dönüşür.",
        image: "/img/8699.jpg",
        date: "23.12.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 32,
        season: 3,
        number: 6,
        title: "Bilinmeyen Tehlike",
        description: "Ben, bilinmeyen bir tehlikenin peşine düşer.",
        image: "/img/8699.jpg",
        date: "30.12.2006",
        duration: "22 dk",
        watched: false
    },
    {
        id: 33,
        season: 3,
        number: 7,
        title: "Küresel Tehlike",
        description: "Ben, küresel bir tehdidi durdurmaya çalışır.",
        image: "/img/8699.jpg",
        date: "06.01.2007",
        duration: "22 dk",
        watched: false
    },
    {
        id: 34,
        season: 3,
        number: 8,
        title: "Gizli Dünya",
        description: "Ben, gizli bir dünyaya girer.",
        image: "/img/8699.jpg",
        date: "13.01.2007",
        duration: "22 dk",
        watched: false
    },
    {
        id: 35,
        season: 3,
        number: 9,
        title: "Sessizlik",
        description: "Ben, bir sesi duymaz dünyaya girer.",
        image: "/img/8699.jpg",
        date: "20.01.2007",
        duration: "22 dk",
        watched: false
    },
    {
        id: 36,
        season: 3,
        number: 10,
        title: "Kara Delik",
        description: "Ben, bir kara deliğin içine düşer.",
        image: "/img/8699.jpg",
        date: "27.01.2007",
        duration: "22 dk",
        watched: false
    },
    {
        id: 37,
        season: 3,
        number: 11,
        title: "Gizli Asker",
        description: "Ben, bir gizli askerle tanışır.",
        image: "/img/8699.jpg",
        date: "03.02.2007",
        duration: "22 dk",
        watched: false
    },
    {
        id: 38,
        season: 3,
        number: 12,
        title: "Zaman Yolcusu",
        description: "Ben, bir zaman yolcusuyla karşı karşıya gelir.",
        image: "/img/8699.jpg",
        date: "10.02.2007",
        duration: "22 dk",
        watched: false
    },
    {
        id: 39,
        season: 3,
        number: 13,
        title: "Sihirli Iksir",
        description: "Ben, sihirli bir iksir bulur.",
        image: "/img/8699.jpg",
        date: "17.02.2007",
        duration: "22 dk",
        watched: false
    },

    // ... (continue with remaining episodes)

    // Season 4
    {
        id: 40,
        season: 4,
        number: 1,
        title: "Perdeler Açılıyor",
        description: "Ben, bir uzaylı sirkinde kendini bulur.",
        image: "/img/8699.jpg",
        date: "14.04.2007",
        duration: "22 dk",
        watched: false
    },
    {
        id: 41,
        season: 4,
        number: 2,
        title: "Pastacı",
        description: "Ben, bir pastacıya yardımcı olur.",
        image: "/img/8699.jpg",
        date: "21.04.2007",
        duration: "22 dk",
        watched: false
    },
    {
        id: 42,
        season: 4,
        number: 3,
        title: "Kraliçe",
        description: "Ben, bir kraliçeyi kurtarmaya çalışır.",
        image: "/img/8699.jpg",
        date: "28.04.2007",
        duration: "22 dk",
        watched: false
    },
    {
        id: 43,
        season: 4,
        number: 4,
        title: "Kara Delik",
        description: "Ben, bir kara deliğe girer.",
        image: "/img/8699.jpg",
        date: "05.05.2007",
        duration: "22 dk",
        watched: false
    },
    {
        id: 44,
        season: 4,
        number: 5,
        title: "Kendi Kendine",
        description: "Ben, kendi kendine yeten bir gezegene gelir.",
        image: "/img/8699.jpg",
        date: "12.05.2007",
        duration: "22 dk",
        watched: false
    },
    {
        id: 45,
        season: 4,
        number: 6,
        title: "D nya Dışı",
        description: "Ben, bir uzaylı gezegene gider.",
        image: "/img/8699.jpg",
        date: "19.05.2007",
        duration: "22 dk",
        watched: false
    },
    {
        id: 46,
        season: 4,
        number: 7,
        title: "D nyanın Sonu",
        description: "Ben, dünyayı yok etmek isteyen bir uzaylıyı durdurmaya çalışır.",
        image: "/img/8699.jpg",
        date: "26.05.2007",
        duration: "22 dk",
        watched: false
    },
    {
        id: 47,
        season: 4,
        number: 8,
        title: "Bilim Kurgu",
        description: "Ben, bir bilim kurgu romanına girer.",
        image: "/img/8699.jpg",
        date: "02.06.2007",
        duration: "22 dk",
        watched: false
    },
    {
        id: 48,
        season: 4,
        number: 9,
        title: "Yeni Yıl",
        description: "Ben, yeni yılı karşılar.",
        image: "/img/8699.jpg",
        date: "09.06.2007",
        duration: "22 dk",
        watched: false
    },
    {
        id: 49,
        season: 4,
        number: 10,
        title: "Yolculuk",
        description: "Ben, yolculuğa çıkar.",
        image: "/img/8699.jpg",
        date: "16.06.2007",
        duration: "22 dk",
        watched: false
    },
    {
        id: 50,
        season: 4,
        number: 11,
        title: "Gizli Ajan",
        description: "Ben, bir gizli ajana dönüşür.",
        image: "/img/8699.jpg",
        date: "23.06.2007",
        duration: "22 dk",
        watched: false
    },
    {
        id: 51,
        season: 4,
        number: 12,
        title: "Yıldız Savaşçıları",
        description: "Ben, bir uzaylı savaşına katılır.",
        image: "/img/8699.jpg",
        date: "30.06.2007",
        duration: "22 dk",
        watched: false
    },
    {
        id: 52,
        season: 4,
        number: 13,
        title: "Sürpriz",
        description: "Ben, bir sürprizle karşılaşır.",
        image: "/img/8699.jpg",
        date: "07.07.2007",
        duration: "22 dk",
        watched: false
    },

    // ... (continue with remaining episodes)

    // Ben 10: Secret of the Omnitrix (TV Movie)
    {
        id: 53,
        season: 0,
        number: 0,
        title: "Ben 10: Omnitrix'in Sırrı",
        description: "Ben, Omnitrix'in kendini imha etmeye başlaması üzerine hayatını kurtarmak için bir yol bulmalıdır.",
        image: "/img/8699.jpg",
        date: "10.08.2007",
        duration: "71 dk",
        isMovie: true,
        watched: false
    }
];
        
        // Watch Later functionality
        let watchLater = JSON.parse(localStorage.getItem('watchLater')) || [];
        
        // Initialize seasons data
        function getSeasons() {
            const seasons = new Set();
            episodes.forEach(episode => {
                if (episode && episode.season !== undefined) {
                    seasons.add(episode.season);
                }
            });
            return Array.from(seasons).sort((a, b) => a - b);
        }
        
        // Initialize season selector
        function initSeasonSelector() {
            const seasonSelect = document.getElementById('seasonSelect');
            if (!seasonSelect) return;
            
            const seasons = getSeasons();
            
            // Clear existing options except the first one
            while (seasonSelect.options.length > 1) {
                seasonSelect.remove(1);
            }
            
            // Add season options
            seasons.forEach(season => {
                const option = document.createElement('option');
                option.value = season;
                option.textContent = `Sezon ${season}`;
                seasonSelect.appendChild(option);
            });
            
            // Add event listener
            seasonSelect.addEventListener('change', function() {
                const selectedSeason = this.value;
                if (selectedSeason === 'all') {
                    renderEpisodes(episodes);
                } else {
                    const filteredEpisodes = episodes.filter(episode => 
                        episode && episode.season == selectedSeason
                    );
                    renderEpisodes(filteredEpisodes);
                }
            });
        }
        
        // Simple function to render all episodes
        function renderEpisodes(episodesToRender = episodes) {
            const container = document.getElementById('episodesContainer');
            if (!container) return;
            
            container.innerHTML = '';
            
            episodesToRender.forEach(episode => {
                if (!episode || typeof episode !== 'object') return;
                
                const isInWatchLater = watchLater.some(item => item && item.id === episode.id);
                const season = episode.season || 1;
                const number = episode.number || 0;
                const title = episode.title || '';
                const description = episode.description || '';
                const date = episode.date || '';
                const duration = episode.duration || '';
                const image = episode.image || '';
                
                const episodeCard = document.createElement('div');
                episodeCard.className = 'episode-card';
                episodeCard.innerHTML = `
                    <div class="episode-thumbnail">
                        <img src="${image}" alt="${title}" onerror="this.src='/img/placeholder.jpg'">
                        <div class="episode-overlay">
                            <a href="../Ben10 Classic/Sezon${season}/Ben 10 Classic ${season}.Sezon ${number}.Bölüm.html" class="play-btn">
                                <i class="fas fa-play"></i>
                            </a>
                        </div>
                    </div>
                    <div class="episode-info">
                        <div class="episode-header">
                            <span class="episode-number">Sezon ${season} • Bölüm ${number}</span>
                            <button class="watch-later ${isInWatchLater ? 'active' : ''}" data-id="${episode.id}">
                                <i class="far fa-bookmark"></i>
                            </button>
                        </div>
                        <h3 class="episode-title">${title}</h3>
                        <p class="episode-desc">${description}</p>
                        <div class="episode-meta">
                            <span><i class="far fa-calendar-alt"></i> ${date}</span>
                            <span><i class="far fa-clock"></i> ${duration}</span>
                        </div>
                    </div>
                `;
                
                container.appendChild(episodeCard);
            });
            
            // Add event listeners to watch later buttons
            document.querySelectorAll('.watch-later').forEach(button => {
                if (button && button.addEventListener) {
                    button.addEventListener('click', toggleWatchLater);
                }
            });
        }

        // Toggle watch later
        function toggleWatchLater(e) {
            if (!e || !e.currentTarget) return;
            
            const button = e.currentTarget;
            const episodeId = parseInt(button.dataset.id, 10);
            if (isNaN(episodeId)) return;
            
            const episode = episodes.find(ep => ep && ep.id === episodeId);
            if (!episode) return;
            
            const index = watchLater.findIndex(item => item && item.id === episodeId);
            
            if (index === -1) {
                watchLater.push({...episode});
                button.classList.add('active');
                showToast('Bölüm listenize eklendi');
            } else {
                watchLater.splice(index, 1);
                button.classList.remove('active');
                showToast('Bölüm listenizden kaldırıldı');
            }
            
            try {
                localStorage.setItem('watchLater', JSON.stringify(watchLater));
            } catch (error) {
                console.error('Error saving to localStorage:', error);
            }
        }
        
        // Show toast notification
        function showToast(message) {
            const toast = document.getElementById('toast');
            const toastMessage = document.getElementById('toastMessage');
            
            toastMessage.textContent = message;
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }
        
        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize season selector
            initSeasonSelector();
            
            // Initial render
            if (episodes && episodes.length > 0) {
                renderEpisodes(episodes);
            } else {
                console.error('No episodes data found');
                const container = document.getElementById('episodesContainer');
                if (container) {
                    container.innerHTML = '<p class="no-results">Bölümler yüklenirken bir hata oluştu.</p>';
                }
            }
            
            // Add search functionality
            const searchInput = document.getElementById('searchInput');
            const searchBtn = document.getElementById('searchBtn');
            
            function handleSearch() {
                if (!searchInput) return;
                
                const searchTerm = searchInput.value.toLowerCase().trim();
                if (!searchTerm) {
                    renderEpisodes(episodes);
                    return;
                }
                
                const filteredEpisodes = episodes.filter(episode => {
                    if (!episode) return false;
                    const title = episode.title ? episode.title.toLowerCase() : '';
                    const description = episode.description ? episode.description.toLowerCase() : '';
                    return title.includes(searchTerm) || description.includes(searchTerm);
                });
                
                const container = document.getElementById('episodesContainer');
                if (!container) return;
                
                if (!filteredEpisodes.length) {
                    container.innerHTML = '<p class="no-results">Aramanızla eşleşen sonuç bulunamadı.</p>';
                } else {
                    renderEpisodes(filteredEpisodes);
                }
            }
            
            searchBtn.addEventListener('click', handleSearch);
            searchInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    handleSearch();
                }
            });
        });
        
        // View Toggle
        const viewButtons = document.querySelectorAll('.view-btn');
        const episodeGrid = document.getElementById('episodeGrid');
        
        viewButtons.forEach(button => {
            button.addEventListener('click', () => {
                viewButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
                
                if (button.dataset.view === 'list') {
                    episodeGrid.classList.add('list-view');
                } else {
                    episodeGrid.classList.remove('list-view');
                }
            });
        });
    </script>
    <script src="/js/header.js"></script>
</body>
</html>